0~~~~                            ~~ Monitor: fb86f800-d665-4d76-a3e1-b936fecfc872
   2018-04-13 08h39.26.2038140 i Topic: CK.Monitoring.DispatcherSink
                   +00.0362576   > Initializing TextFile handler (MaxCountPerFile = 20000).
                   +00.0427545   < 
1~~~~                            ~~ Monitor: 39926e39-69d1-4e28-901f-8b92f7e7c040
                   +00.1218219 i Folder 'C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Actor.Tests\TestStores' has been cleaned up.
                   +00.2160042 i > Accessing null StObj map: invoking StObjMapLoading event.
                   +00.2176647 i | File 'C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Actor.Tests\bin\Debug\netcoreapp2.0\CK.StObj.AutoAssembly.dll' does not exist. Running StObjSetup to create it.
                   +00.2305023 i | > Running StObjSetup.
                   +00.2610792 i | | Using default connection string: Server=.;Database=master;Integrated Security=SSPI
                   +02.3556176 i | | > Ensuring database 'Database:CKTEST_CK_DB_Actor, Collation:Latin1_General_100_BIN2, CompatibilityLevel:130'.
                   +02.4677404 i | | <  | 1 conclusion:
                                 | |    | Database already exists, collation and compatiblity level match.
                   +02.4994721 i | | Using 'CKSetup/DefaultBinPaths' = C:\Dev\CK-Database-Projects\CK-DB\Tests\{CKSetupAutoTargetProjectBinFolder}
                   +02.5133977 i | | BinPath 'C:\Dev\CK-Database-Projects\CK-DB\Tests\{CKSetupAutoTargetProjectBinFolder}' resolved to: C:\Dev\CK-Database-Projects\CK-DB\CK.DB.Actor\bin\Debug\netstandard2.0.
                   +02.5150064 i | | Using store 'C:\Users\olivi\AppData\Local\CKSetupStore'.
                   +02.5152313 i | | Using remote 'https://cksetup.invenietis.net/'.
                   +02.6566667   | | Opened store with 90 components.
                   +02.6568429   | | Local store opened on : 'C:\Users\olivi\AppData\Local\CKSetupStore'.
                   +02.6584549   | | > Creating client remote store on 'https://cksetup.invenietis.net/'.
                   +02.6878754   | | < 
                   +02.6887514 i | | > Running Setup.
                   +02.6940971   | | | > Initializing SetupContext (ignoring signatures).
                   +02.6994047 i | | | | <Root>
                                 | | | |     <CKSetup>
                                 | | | |       <WorkingDirectory>C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Actor.Tests\CKSetup-WorkingDir</WorkingDirectory>
                                 | | | |       <BinPaths>
                                 | | | |         <BinPath>C:\Dev\CK-Database-Projects\CK-DB\CK.DB.Actor\bin\Debug\netstandard2.0</BinPath>
                                 | | | |       </BinPaths>
                                 | | | |       <Dependencies />
                                 | | | |       <EngineAssemblyQualifiedName>CK.Setup.StObjEngine, CK.StObj.Engine</EngineAssemblyQualifiedName>
                                 | | | |     </CKSetup>
                                 | | | |     <Configuration>
                                 | | | |       <AppContextAssemblyGeneratedDirectoryTarget>C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Actor.Tests\bin\Debug\netcoreapp2.0</AppContextAssemblyGeneratedDirectoryTarget>
                                 | | | |       <GenerateSourceFiles>true</GenerateSourceFiles>
                                 | | | |       <Assemblies />
                                 | | | |       <Types />
                                 | | | |       <Aspect Type="CK.Setup.SetupableAspectConfiguration, CK.Setupable.Model" Version="1" />
                                 | | | |       <Aspect Type="CK.Setup.SqlSetupAspectConfiguration, CK.SqlServer.Setup.Model">
                                 | | | |         <Databases />
                                 | | | |         <DefaultDatabaseConnectionString>Data Source=.;Initial Catalog=CKTEST_CK_DB_Actor;Integrated Security=True</DefaultDatabaseConnectionString>
                                 | | | |         <GlobalResolution>true</GlobalResolution>
                                 | | | |       </Aspect>
                                 | | | |     </Configuration>
                                 | | | |   </Root>
                   +02.6995015 i | | | | Configuration BasePath is empty: using current directory 'C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Actor.Tests\bin\Debug\netcoreapp2.0'.
                   +02.7017800 i | | | | > Reading binary folders.
                   +02.7030747 i | | | | | > Reading files from 'C:\Dev\CK-Database-Projects\CK-DB\CK.DB.Actor\bin\Debug\netstandard2.0'.
                   +02.9680835 i | | | | | < 
                   +02.9687998 i | | | | <  | 1 conclusion:
                                 | | | |    | 1 folders read.
                   +03.0316054 i | | | | Created setup folder in Working Directory: C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Actor.Tests\CKSetup-WorkingDir\2018-04-13 08h39.29.2332637\.
                   +03.0320579   | | | < 
                   +03.0386753 i | | | > Resolving runtime support for 'C:\Dev\CK-Database-Projects\CK-DB\CK.DB.Actor\bin\Debug\netstandard2.0\'.
                   +03.0418473 i | | | | > Creating runtime dependencies resolver for C:\Dev\CK-Database-Projects\CK-DB\CK.DB.Actor\bin\Debug\netstandard2.0\.
                   +03.0448831 i | | | | | > Detecting runtimes for: CK.Setupable.Model/NetStandard20, CK.SqlServer.Setup.Model/NetStandard20, CK.StObj.Model/NetStandard20
                   +03.0625514 i | | | | | <  | 1 conclusion:
                                 | | | | |    | Single selected runtime: NetCoreApp20.
                   +03.0693531 i | | | | < 
                   +03.0706516 i | | | | > Initializing root dependencies.
                   +03.0813848   | | | | | Adding required dependency -> CK.Setupable.Runtime/6.0.0-p05-00-develop-0049.
                   +03.0819395   | | | | | Adding required dependency -> CK.SqlServer.Setup.Runtime/6.0.0-p05-00-develop-0049.
                   +03.0819801   | | | | | Adding required dependency -> CK.StObj.Runtime/6.0.0-p05-00-develop-0049.
                   +03.0819979   | | | | | Adding required dependency -> CKSetup.Runner/6.0.0-r09-00-develop-0055.
                   +03.0836839 i | | | | | > Using donwloader.
                   +03.0908086 i | | | | | | <Missing Runtime="NetCoreApp20">
                                 | | | | | |     <Dependency Name="CK.Setupable.Runtime" Version="6.0.0-p05-00-develop-0049" />
                                 | | | | | |     <Dependency Name="CK.SqlServer.Setup.Runtime" Version="6.0.0-p05-00-develop-0049" />
                                 | | | | | |     <Dependency Name="CK.StObj.Runtime" Version="6.0.0-p05-00-develop-0049" />
                                 | | | | | |     <Dependency Name="CKSetup.Runner" Version="6.0.0-r09-00-develop-0055" />
                                 | | | | | |   </Missing>
                   +03.0930542   | | | | | | > Download from store: https://cksetup.invenietis.net/.
                   +03.3458871 i | | | | | | | > Starting import from https://cksetup.invenietis.net/.
                   +03.3474151 i | | | | | | | | > Starting components import.
                   +03.3507504   | | | | | | | | | Importing Component 'CKSetup.Runner/6.0.0-r09-00-develop-0055/NetCoreApp20/' (12 files).
                   +03.3579925   | | | | | | | | | Importing Component 'CK.StObj.Runtime/6.0.0-p05-00-develop-0049/NetCoreApp20/' (17 files).
                   +03.3582321   | | | | | | | | | Importing Component 'CK.Setupable.Runtime/6.0.0-p05-00-develop-0049/NetCoreApp20/' (3 files).
                   +03.3585784   | | | | | | | | | Importing Component 'CK.SqlServer.Setup.Runtime/6.0.0-p05-00-develop-0049/NetCoreApp20/' (13 files).
                   +03.3604901 i | | | | | | | | < 
                   +03.3623898 i | | | | | | | | > Downloading missing files.
                   +03.3837338 i | | | | | | | | | > 8 files missing.
                   +03.3864666 i | | | | | | | | | | > Downloading CKSetup.Runner.deps.json (30429), fV: 0.0.0.0 aV: , sha1: c5c529763928d7e28ea088ba62d3d633195fe08f.
                   +03.4572838 i | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | |    | Successfully downloaded.
                   +03.4573463 i | | | | | | | | | | > Downloading CKSetup.Runner.dll (17408), sV: 6.0.0-r09-00-develop-0055, sha1: 6d4830fa8eacb6e89faafb5c8df3137313785e4b.
                   +03.5172662 i | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | |    | Successfully downloaded.
                   +03.5173189 i | | | | | | | | | | > Downloading CK.StObj.Runtime.deps.json (66578), fV: 0.0.0.0 aV: , sha1: 7db8d18c89882490cc43b666a050967f13bcdfaa.
                   +03.5693727 i | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | |    | Successfully downloaded.
                   +03.5694209 i | | | | | | | | | | > Downloading CK.StObj.Runtime.dll (25088), sV: 6.0.0-p05-00-develop-0049, sha1: d643bd8bd436e8861b1bc5189d4ce303b7622469.
                   +03.6192516 i | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | |    | Successfully downloaded.
                   +03.6192922 i | | | | | | | | | | > Downloading CK.Setupable.Runtime.deps.json (67459), fV: 0.0.0.0 aV: , sha1: ba50d8bab6054b04f81fa614a23f41de077047ed.
                   +03.6728481 i | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | |    | Successfully downloaded.
                   +03.6728945 i | | | | | | | | | | > Downloading CK.Setupable.Runtime.dll (103936), sV: 6.0.0-p05-00-develop-0049, sha1: e59e636bd397916641ad18eca64418bf9fcfe25d.
                   +03.7243714 i | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | |    | Successfully downloaded.
                   +03.7244021 i | | | | | | | | | | > Downloading CK.SqlServer.Setup.Runtime.deps.json (75216), fV: 0.0.0.0 aV: , sha1: bad2084ebe0109825f6ff3f169b49609a016e7b9.
                   +03.7725437 i | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | |    | Successfully downloaded.
                   +03.7725933 i | | | | | | | | | | > Downloading CK.SqlServer.Setup.Runtime.dll (109568), sV: 6.0.0-p05-00-develop-0049, sha1: 778c17ef017b24bb5b7d5fbda5ffc8551fe4d967.
                   +03.8266659 i | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | |    | Successfully downloaded.
                   +03.8267244 i | | | | | | | | | < 
                   +03.8267275 i | | | | | | | | < 
                   +03.8272376 i | | | | | | | < 
                   +03.8272505   | | | | | | < 
                   +03.8298544 i | | | | | | > Updating DependencyEngine state.
                   +03.8333779   | | | | | | | Resolved is now: CK.Setupable.Runtime/6.0.0-p05-00-develop-0049/NetCoreApp20/, CK.SqlServer.Setup.Runtime/6.0.0-p05-00-develop-0049/NetCoreApp20/, CK.StObj.Runtime/6.0.0-p05-00-develop-0049/NetCoreApp20/, CKSetup.Runner/6.0.0-r09-00-develop-0055/NetCoreApp20/.
                   +03.8349372 i | | | | | | < 
                   +03.8349447 i | | | | | < 
                   +03.8349465 i | | | | < 
                   +03.8349590 i | | | | > Resolving dependencies.
                   +03.8358243   | | | | | Adding required dependency CK.Setupable.Runtime-> CK.Setupable.Engine/6.0.0-p05-00-develop-0049.
                   +03.8358439 i | | | | | > Using donwloader.
                   +03.8358876 i | | | | | | <Missing Runtime="NetCoreApp20">
                                 | | | | | |     <Dependency Name="CK.Setupable.Engine" Version="6.0.0-p05-00-develop-0049" />
                                 | | | | | |   </Missing>
                   +03.8358988   | | | | | | > Download from store: https://cksetup.invenietis.net/.
                   +03.8838699 i | | | | | | | > Starting import from https://cksetup.invenietis.net/.
                   +03.8838851 i | | | | | | | | > Starting components import.
                   +03.8840828   | | | | | | | | | Importing Component 'CK.Setupable.Engine/6.0.0-p05-00-develop-0049/NetCoreApp20/' (3 files).
                   +03.8841252 i | | | | | | | | < 
                   +03.8841301 i | | | | | | | | > Downloading missing files.
                   +03.8863466 i | | | | | | | | | > 2 files missing.
                   +03.8864091 i | | | | | | | | | | > Downloading CK.Setupable.Engine.deps.json (67902), fV: 0.0.0.0 aV: , sha1: 61629033d4c4fd84cf7db97f255ac1d51a1a51fc.
                   +03.9361268 i | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | |    | Successfully downloaded.
                   +03.9361670 i | | | | | | | | | | > Downloading CK.Setupable.Engine.dll (49664), sV: 6.0.0-p05-00-develop-0049, sha1: 16fd576071edcf851e34ad8d133b796373bf828b.
                   +03.9845496 i | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | |    | Successfully downloaded.
                   +03.9845675 i | | | | | | | | | < 
                   +03.9845706 i | | | | | | | | < 
                   +03.9845800 i | | | | | | | < 
                   +03.9845840   | | | | | | < 
                   +03.9845907 i | | | | | | > Updating DependencyEngine state.
                   +03.9850940   | | | | | | | Resolved is now: CK.Setupable.Runtime/6.0.0-p05-00-develop-0049/NetCoreApp20/, CK.SqlServer.Setup.Runtime/6.0.0-p05-00-develop-0049/NetCoreApp20/, CK.StObj.Runtime/6.0.0-p05-00-develop-0049/NetCoreApp20/, CKSetup.Runner/6.0.0-r09-00-develop-0055/NetCoreApp20/, CK.Setupable.Engine/6.0.0-p05-00-develop-0049/NetCoreApp20/.
                   +03.9851534 i | | | | | | < 
                   +03.9851574 i | | | | | < 
                   +03.9852065   | | | | | Adding required dependency CK.SqlServer.Setup.Runtime-> CK.SqlServer.Setup.Engine/6.0.0-p05-00-develop-0049.
                   +03.9852101 i | | | | | > Using donwloader.
                   +03.9852480 i | | | | | | <Missing Runtime="NetCoreApp20">
                                 | | | | | |     <Dependency Name="CK.SqlServer.Setup.Engine" Version="6.0.0-p05-00-develop-0049" />
                                 | | | | | |   </Missing>
                   +03.9852529   | | | | | | > Download from store: https://cksetup.invenietis.net/.
                   +04.0312980 i | | | | | | | > Starting import from https://cksetup.invenietis.net/.
                   +04.0313132 i | | | | | | | | > Starting components import.
                   +04.0315282   | | | | | | | | | Importing Component 'CK.SqlServer.Setup.Engine/6.0.0-p05-00-develop-0049/NetCoreApp20/' (5 files).
                   +04.0315809 i | | | | | | | | < 
                   +04.0315876 i | | | | | | | | > Downloading missing files.
                   +04.0327300 i | | | | | | | | | > 2 files missing.
                   +04.0327537 i | | | | | | | | | | > Downloading CK.SqlServer.Setup.Engine.deps.json (76648), fV: 0.0.0.0 aV: , sha1: 9098a296d84e4f596f4ed4b2e950d89e756094d8.
                   +04.0830765 i | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | |    | Successfully downloaded.
                   +04.0831247 i | | | | | | | | | | > Downloading CK.SqlServer.Setup.Engine.dll (76800), sV: 6.0.0-p05-00-develop-0049, sha1: 67139973cbe7ce710645921ab83685f75475678b.
                   +04.1335051 i | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | |    | Successfully downloaded.
                   +04.1335332 i | | | | | | | | | < 
                   +04.1335395 i | | | | | | | | < 
                   +04.1335444 i | | | | | | | < 
                   +04.1335493   | | | | | | < 
                   +04.1335560 i | | | | | | > Updating DependencyEngine state.
                   +04.1337171   | | | | | | | Resolved is now: CK.Setupable.Runtime/6.0.0-p05-00-develop-0049/NetCoreApp20/, CK.SqlServer.Setup.Runtime/6.0.0-p05-00-develop-0049/NetCoreApp20/, CK.StObj.Runtime/6.0.0-p05-00-develop-0049/NetCoreApp20/, CKSetup.Runner/6.0.0-r09-00-develop-0055/NetCoreApp20/, CK.Setupable.Engine/6.0.0-p05-00-develop-0049/NetCoreApp20/, CK.SqlServer.Setup.Engine/6.0.0-p05-00-develop-0049/NetCoreApp20/.
                   +04.1337399 i | | | | | | < 
                   +04.1337416 i | | | | | < 
                   +04.1337894   | | | | | Adding required dependency CK.StObj.Runtime-> CK.StObj.Engine/6.0.0-p05-00-develop-0049.
                   +04.1337921 i | | | | | > Using donwloader.
                   +04.1338238 i | | | | | | <Missing Runtime="NetCoreApp20">
                                 | | | | | |     <Dependency Name="CK.StObj.Engine" Version="6.0.0-p05-00-develop-0049" />
                                 | | | | | |   </Missing>
                   +04.1338273   | | | | | | > Download from store: https://cksetup.invenietis.net/.
                   +04.1796930 i | | | | | | | > Starting import from https://cksetup.invenietis.net/.
                   +04.1797087 i | | | | | | | | > Starting components import.
                   +04.1799086   | | | | | | | | | Importing Component 'CK.StObj.Engine/6.0.0-p05-00-develop-0049/NetCoreApp20/' (3 files).
                   +04.1799733 i | | | | | | | | < 
                   +04.1799867 i | | | | | | | | > Downloading missing files.
                   +04.1807922 i | | | | | | | | | > 2 files missing.
                   +04.1808158 i | | | | | | | | | | > Downloading CK.StObj.Engine.deps.json (66990), fV: 0.0.0.0 aV: , sha1: 3086d6929846e7519823ad302aa91fc665c00c5b.
                   +04.2422779 i | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | |    | Successfully downloaded.
                   +04.2423248 i | | | | | | | | | | > Downloading CK.StObj.Engine.dll (165376), sV: 6.0.0-p05-00-develop-0049, sha1: 6ee4efeaa9bc089fbff1b8958f305dc44b8a8051.
                   +04.2937820 i | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | |    | Successfully downloaded.
                   +04.2938034 i | | | | | | | | | < 
                   +04.2938092 i | | | | | | | | < 
                   +04.2938150 i | | | | | | | < 
                   +04.2938177   | | | | | | < 
                   +04.2938239 i | | | | | | > Updating DependencyEngine state.
                   +04.2940118   | | | | | | | Resolved is now: CK.Setupable.Runtime/6.0.0-p05-00-develop-0049/NetCoreApp20/, CK.SqlServer.Setup.Runtime/6.0.0-p05-00-develop-0049/NetCoreApp20/, CK.StObj.Runtime/6.0.0-p05-00-develop-0049/NetCoreApp20/, CKSetup.Runner/6.0.0-r09-00-develop-0055/NetCoreApp20/, CK.Setupable.Engine/6.0.0-p05-00-develop-0049/NetCoreApp20/, CK.SqlServer.Setup.Engine/6.0.0-p05-00-develop-0049/NetCoreApp20/, CK.StObj.Engine/6.0.0-p05-00-develop-0049/NetCoreApp20/.
                   +04.2940345 i | | | | | | < 
                   +04.2940368 i | | | | | < 
                   +04.2940903 i | | | | < 
                   +04.3033294 i | | | | > Selected 52 setup files.
                   +04.3254330 i | | | | < 
                   +04.3254428 i | | | < 
                   +04.3254567 i | | | > Copying files to 'C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Actor.Tests\CKSetup-WorkingDir\2018-04-13 08h39.29.2332637\'.
                   +04.6541628 i | | | < 
                   +04.6542047 i | | | Store changed: 7 new components.
                   +04.6545385 i | | | > Copying 17 files from bin folders.
                   +04.6781986 i | | | <  | 1 conclusion:
                                 | | |    | Skipped 6 file(s).
                   +04.6782276 i | | | > Generating CKSetup.Runner.Config.xml file.
                   +04.6828815 i | | | < 
                   +04.6851034 i | | | > Launching CKSetup.Runner process.
                   +04.7303153   | | | | > dotnet CKSetup.Runner.dll merge-deps /silent /logPipe:2416
                   +04.9284688 i | | | | | > Starting CKSetup.Runner - 6.0.0-rc.9.0.ci-develop.55 (6.0.0-r09-00-develop-0055) - SHA1: 33f3dae549f6c8e80766598e13c6c85668ad5968 - CommitDate: 2018-04-13 07:24:27Z
                   +04.9613327 i | | | | | | > Merging deps.json files.
                   +05.1873136 i | | | | | | | 'CK.DB.Actor.deps.json' - .NETStandard,Version=v2.0.
                   +05.1963069 i | | | | | | | 'CK.Setupable.Engine.deps.json' - .NETCoreApp,Version=v2.0.
                   +05.2021902 i | | | | | | | 'CK.Setupable.Runtime.deps.json' - .NETCoreApp,Version=v2.0.
                   +05.2096729 i | | | | | | | 'CK.SqlServer.Setup.Engine.deps.json' - .NETCoreApp,Version=v2.0.
                   +05.2178552 i | | | | | | | 'CK.SqlServer.Setup.Runtime.deps.json' - .NETCoreApp,Version=v2.0.
                   +05.2261741 i | | | | | | | 'CK.StObj.Engine.deps.json' - .NETCoreApp,Version=v2.0.
                   +05.2297240 i | | | | | | | 'CK.StObj.Runtime.deps.json' - .NETCoreApp,Version=v2.0.
                   +05.2381185 i | | | | | | | Merging 'CK.SqlServer.Setup.Engine.deps.json' - .NETCoreApp,Version=v2.0.
                   +05.2392055 i | | | | | | | Merging 'CK.SqlServer.Setup.Runtime.deps.json' - .NETCoreApp,Version=v2.0.
                   +05.2400547 i | | | | | | | Merging 'CK.Setupable.Engine.deps.json' - .NETCoreApp,Version=v2.0.
                   +05.2408267 i | | | | | | | Merging 'CK.Setupable.Runtime.deps.json' - .NETCoreApp,Version=v2.0.
                   +05.2419611 i | | | | | | | Merging 'CK.StObj.Engine.deps.json' - .NETCoreApp,Version=v2.0.
                   +05.2433815 i | | | | | | | Merging 'CK.StObj.Runtime.deps.json' - .NETCoreApp,Version=v2.0.
                   +05.2445056 i | | | | | | | Merging 'CK.DB.Actor.deps.json' - .NETStandard,Version=v2.0.
                   +05.2491773 i | | | | | | | Saving 'CKSetup.Runner.deps.json.merged'.
                   +05.3782699 i | | | | | | < 
                   +05.3945781 i | | | | | | No assembly load conflicts.
                   +05.4526175 i | | | | | < 
                   +05.4526353   | | | | < 
                   +05.4611997   | | | | > dotnet CKSetup.Runner.dll  /silent /logPipe:2416
                   +05.7323324 i | | | | | > Starting CKSetup.Runner - 6.0.0-rc.9.0.ci-develop.55 (6.0.0-r09-00-develop-0055) - SHA1: 33f3dae549f6c8e80766598e13c6c85668ad5968 - CommitDate: 2018-04-13 07:24:27Z
                   +05.8408348 i | | | | | | > Applying CKSetup configuration.
                   +05.8488552 i | | | | | | | Handling 1 BinPath(s).
                   +05.8532939 i | | | | | | < 
                   +05.8760053 i | | | | | | > Validating configuration.
                   +05.8887500 i | | | | | | < 
                   +05.9146574   | | | | | | > Creating and configuring 2 aspect(s).
                   +05.9866371   | | | | | | | > Configuring aspect 'CK.Setup.SetupableAspect'.
                   +05.9896721   | | | | | | | < 
                   +06.0045076   | | | | | | | > Configuring aspect 'CK.SqlServer.Setup.SqlSetupAspect'.
                   +06.0354583 i | | | | | | | | > Connection to Data Source=.;Initial Catalog=CKTEST_CK_DB_Actor;Integrated Security=True.
                   +06.4403542 i | | | | | | | | | Connected to database.
                   +06.4430610 i | | | | | | | | < 
                   +06.4447153 i | | | | | | | | Registering SqlVersionedItemReader on the default database as the version reader.
                   +06.4479167 i | | | | | | | | Registering SqlVersionedItemWriter on the default database as the version writer.
                   +06.4483844 i | | | | | | | | Registering SqlSetupSessionMemoryProvider on the default database as the memory provider.
                   +06.5033660   | | | | | | | < 
                   +06.5044357 i | | | | | | | > Executing initial 1 deferred actions.
                   +06.5055901 i | | | | | | | <  | 1 conclusion:
                                 | | | | | | |    | Executed 1 actions.
                   +06.5096474 i | | | | | | | No explicit ISimpleObjectActivator has been registered. Using a default SimpleObjectActivator.
                   +06.5096738   | | | | | | < 
                   +06.5127551 i | | | | | | > Building StObj objects.
                   +06.5332544 i | | | | | | | > Registering StObj types.
                   +06.5343102   | | | | | | | | > Registering 4 assemblies.
                   +06.5343428   | | | | | | | | | > Registering assembly 'CK.Setupable.Model'.
                   +06.5372826   | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | |    | 16 types(s) registered.
                   +06.5376516   | | | | | | | | | > Registering assembly 'CK.SqlServer.Setup.Model'.
                   +06.5589671   | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | |    | 43 types(s) registered.
                   +06.5590166   | | | | | | | | | > Registering assembly 'CK.StObj.Model'.
                   +06.5605008   | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | |    | 22 types(s) registered.
                   +06.5605365   | | | | | | | | | > Registering assembly 'CK.DB.Actor'.
                   +06.5720163   | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | |    | 6 types(s) registered.
                   +06.5720547   | | | | | | | | < 
                   +06.5740462   | | | | | | | | > Explicitely registering 0 type(s).
                   +06.5740998   | | | | | | | | < 
                   +06.5756719 i | | | | | | | < 
                   +06.5757567 i | | | | | | | > Resolving StObj dependency graph.
                   +06.5822211 i | | | | | | | | > Collecting all StObj information.
                   +06.5825098 i | | | | | | | | | > Collecting Ambient Contracts, Type structure and Poco.
                   +06.5851667 i | | | | | | | | | | > Creating Poco Types and PocoFactory.
                   +06.6186990 i | | | | | | | | | | < 
                   +06.6904967   | | | | | | | | | | > Ambient Contract discovering: 1 context(s).
                   +06.6936066   | | | | | | | | | | | > Ambient Contract for context '': 9 mappings for 7 concrete paths.
                   +06.6936963   | | | | | | | | | | | < 
                   +06.6937160   | | | | | | | | | | < 
                   +06.6937289 i | | | | | | | | | < 
                   +06.6983757 i | | | | | | | | | > Creating Structure Objects.
                   +06.6986179 i | | | | | | | | | | > Working on Context [].
                   +06.7247516 i | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | |    | 7 items created for 7 types.
                   +06.7248333 i | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | |    | 7 items created.
                   +06.7248672 i | | | | | | | | | > Handling dependencies.
                   +06.7258712 i | | | | | | | | | | > Working on Context [].
                   +06.7276111   | | | | | | | | | | | > Preparing '[]CK.SqlServer.Setup.SqlDefaultDatabase'.
                   +06.7400262   | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | |    | ItemKind is Group
                   +06.7400815   | | | | | | | | | | | > Preparing '[]CK.DB.Actor.ActorProfileTable'.
                   +06.7402091   | | | | | | | | | | | | > Preparing '[]CK.DB.Actor.Package'.
                   +06.7411815   | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | |    | ItemKind is Container
                   +06.7500792   | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | |    | ItemKind is Container
                   +06.7501270   | | | | | | | | | | | > Preparing '[]CK.DB.Actor.ActorTable'.
                   +06.7502113   | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | |    | ItemKind is Container
                   +06.7502443   | | | | | | | | | | | > Preparing '[]CK.DB.Actor.GroupTable'.
                   +06.7502908   | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | |    | ItemKind is Container
                   +06.7503206   | | | | | | | | | | | > Preparing '[]CK.DB.Actor.UserTable'.
                   +06.7503559   | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | |    | ItemKind is Container
                   +06.7503916   | | | | | | | | | | | > Preparing '[]CK._g.poco.Factory'.
                   +06.7507727 W | | | | | | | | | | | | Since ItemKind is not specified on this base class ('[]CK._g.poco.Factory'), it defaults to SimpleItem. It should be explicitely set to either SimpleItem, Group or Container.
                   +06.7520922   | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | |    | ItemKind is Item
                   +06.7521212 i | | | | | | | | | | < 
                   +06.7531726 i | | | | | | | | | | > Working on Context [].
                   +06.7650379 i | | | | | | | | | | < 
                   +06.8163273 i | | | | | | | | | < 
                   +06.8163778 i | | | | | | | | | > Initializing object graph.
                   +06.8209919   | | | | | | | | | | > Constructing '[]CK._g.poco.Factory'.
                   +06.8222641   | | | | | | | | | | < 
                   +06.8227296   | | | | | | | | | | > Constructing '[]CK.SqlServer.Setup.SqlDefaultDatabase'.
                   +06.8249059   | | | | | | | | | | < 
                   +06.8253134   | | | | | | | | | | > Constructing '[]CK.DB.Actor.Package'.
                   +06.8275031   | | | | | | | | | | < 
                   +06.8275571   | | | | | | | | | | > Constructing '[]CK.DB.Actor.ActorTable'.
                   +06.8278160   | | | | | | | | | | < 
                   +06.8294206   | | | | | | | | | | > Constructing '[]CK.DB.Actor.GroupTable'.
                   +06.8296165   | | | | | | | | | | < 
                   +06.8296562   | | | | | | | | | | > Constructing '[]CK.DB.Actor.UserTable'.
                   +06.8298445   | | | | | | | | | | < 
                   +06.8298686   | | | | | | | | | | > Constructing '[]CK.DB.Actor.ActorProfileTable'.
                   +06.8300511   | | | | | | | | | | < 
                   +06.8300672 i | | | | | | | | | | > Setting Ambient Contracts.
                   +06.8309517 i | | | | | | | | | | | > Working on Context [].
                   +06.8316930 i | | | | | | | | | | | < 
                   +06.8317108 i | | | | | | | | | | < 
                   +06.8319067 i | | | | | | | | | < 
                   +06.8319214 i | | | | | | | | < 
                   +06.8319295 i | | | | | | | < 
                   +06.8319402 i | | | | | | < 
                   +06.8330678 i | | | | | | > Running Aspects.
                   +06.8332691 i | | | | | | | > Aspect: CK.Setup.SetupableAspect.
                   +06.8358765 i | | | | | | | | > Creating Setup Items from Structured Objects.
                   +06.8378208 i | | | | | | | | | > Building setupable items from 7 Structure Objects (calling IStObjSetupConfigurator.ConfigureDependentItem and IStObjSetupItemFactory.CreateDependentItem for each of them).
                   +06.8610729 i | | | | | | | | | | SqlPackage 'CK.DB.Actor.Package' uses its own full name as its SetupName.
                   +06.8721938 i | | | | | | | | | | SqlTable 'CK.DB.Actor.ActorTable' uses 'CK.ActorTable' as its SetupName.
                   +06.8728048 i | | | | | | | | | | SqlTable 'CK.DB.Actor.GroupTable' uses 'CK.GroupTable' as its SetupName.
                   +06.8730494 i | | | | | | | | | | SqlTable 'CK.DB.Actor.UserTable' uses 'CK.UserTable' as its SetupName.
                   +06.8732756 i | | | | | | | | | | SqlTable 'CK.DB.Actor.ActorProfileTable' uses 'CK.ActorProfileTable' as its SetupName.
                   +06.8733791 i | | | | | | | | | < 
                   +06.8750489 i | | | | | | | | | > Binding dependencies between Setupable items.
                   +06.8773770 i | | | | | | | | | < 
                   +06.8787747 i | | | | | | | | | > Dynamic initialization of Setup items.
                   +06.8892900 i | | | | | | | | | | > Executing 21 deferred actions.
                   +06.8899135 i | | | | | | | | | | | > Starting intialization round nÂ°0.
                   +06.8926387 i | | | | | | | | | | | | > Handling: '[]db^CK.sActorCreate' in SqlObjectItem attribute of '[]db^CK.ActorTable'
                   +06.8942559   | | | | | | | | | | | | | > Loading '[]db^CK.sActorCreate' of '[]db^CK.ActorTable'.
                   +07.0990245   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sActorCreate.sql'.
                   +07.0990798 i | | | | | | | | | | | | < 
                   +07.0991097 i | | | | | | | | | | | | > Handling: '[]db^CK.vGroup' in SqlObjectItem attribute of '[]db^CK.GroupTable'
                   +07.0991584   | | | | | | | | | | | | | > Loading '[]db^CK.vGroup' of '[]db^CK.GroupTable'.
                   +07.1295733   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded View from file 'vGroup.sql'.
                   +07.1296282 i | | | | | | | | | | | | < 
                   +07.1306715 i | | | | | | | | | | | | > Handling: 'sGroupCreate' in 'CreateGroupAsync' SqlProcedure attribute of '[]db^CK.GroupTable'
                   +07.1312279   | | | | | | | | | | | | | > Loading '[]db^CK.sGroupCreate' of '[]db^CK.GroupTable'.
                   +07.1446047   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sGroupCreate.sql'.
                   +07.1446493 i | | | | | | | | | | | | < 
                   +07.1446747 i | | | | | | | | | | | | > Handling: 'sGroupDestroy' in 'DestroyGroupAsync' SqlProcedure attribute of '[]db^CK.GroupTable'
                   +07.1447064   | | | | | | | | | | | | | > Loading '[]db^CK.sGroupDestroy' of '[]db^CK.GroupTable'.
                   +07.1500386   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sGroupDestroy.sql'.
                   +07.1500747 i | | | | | | | | | | | | < 
                   +07.1500886 i | | | | | | | | | | | | > Handling: 'sGroupUserAdd' in 'AddUserAsync' SqlProcedure attribute of '[]db^CK.GroupTable'
                   +07.1501145   | | | | | | | | | | | | | > Loading '[]db^CK.sGroupUserAdd' of '[]db^CK.GroupTable'.
                   +07.1522752   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sGroupUserAdd.sql'.
                   +07.1523086 i | | | | | | | | | | | | < 
                   +07.1523234 i | | | | | | | | | | | | > Handling: 'sGroupUserRemove' in 'RemoveUserAsync' SqlProcedure attribute of '[]db^CK.GroupTable'
                   +07.1523546   | | | | | | | | | | | | | > Loading '[]db^CK.sGroupUserRemove' of '[]db^CK.GroupTable'.
                   +07.1528531   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sGroupUserRemove.sql'.
                   +07.1528847 i | | | | | | | | | | | | < 
                   +07.1529008 i | | | | | | | | | | | | > Handling: 'sGroupRemoveAllUsers' in 'RemoveAllUsersAsync' SqlProcedure attribute of '[]db^CK.GroupTable'
                   +07.1529320   | | | | | | | | | | | | | > Loading '[]db^CK.sGroupRemoveAllUsers' of '[]db^CK.GroupTable'.
                   +07.1622167   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sGroupRemoveAllUsers.sql'.
                   +07.1622828 i | | | | | | | | | | | | < 
                   +07.1623461 i | | | | | | | | | | | | > Handling: '[]db^CK.vUser' in SqlObjectItem attribute of '[]db^CK.UserTable'
                   +07.1623921   | | | | | | | | | | | | | > Loading '[]db^CK.vUser' of '[]db^CK.UserTable'.
                   +07.1626750   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded View from file 'vUser.sql'.
                   +07.1627107 i | | | | | | | | | | | | < 
                   +07.1627316 i | | | | | | | | | | | | > Handling: 'sUserCreate' in 'CreateUserAsync' SqlProcedure attribute of '[]db^CK.UserTable'
                   +07.1627767   | | | | | | | | | | | | | > Loading '[]db^CK.sUserCreate' of '[]db^CK.UserTable'.
                   +07.1641815   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sUserCreate.sql'.
                   +07.1642159 i | | | | | | | | | | | | < 
                   +07.1642288 i | | | | | | | | | | | | > Handling: 'sUserUserNameSet' in 'UserNameSetAsync' SqlProcedure attribute of '[]db^CK.UserTable'
                   +07.1642578   | | | | | | | | | | | | | > Loading '[]db^CK.sUserUserNameSet' of '[]db^CK.UserTable'.
                   +07.1669594   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sUserUserNameSet.sql'.
                   +07.1669942 i | | | | | | | | | | | | < 
                   +07.1670125 i | | | | | | | | | | | | > Handling: 'sUserDestroy' in 'DestroyUserAsync' SqlProcedure attribute of '[]db^CK.UserTable'
                   +07.1670433   | | | | | | | | | | | | | > Loading '[]db^CK.sUserDestroy' of '[]db^CK.UserTable'.
                   +07.1674315   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sUserDestroy.sql'.
                   +07.1674641 i | | | | | | | | | | | | < 
                   +07.1674788 i | | | | | | | | | | | | > Handling: 'sUserRemoveFromAllGroups' in 'RemoveFromAllGroupsAsync' SqlProcedure attribute of '[]db^CK.UserTable'
                   +07.1675172   | | | | | | | | | | | | | > Loading '[]db^CK.sUserRemoveFromAllGroups' of '[]db^CK.UserTable'.
                   +07.1679813   | | | | | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | | | | | |    | Loaded Procedure from file 'sUserRemoveFromAllGroups.sql'.
                   +07.1680143 i | | | | | | | | | | | | < 
                   +07.1680268 i | | | | | | | | | | | < 
                   +07.1680366 i | | | | | | | | | | < 
                   +07.1680456 i | | | | | | | | | < 
                   +07.1684378 i | | | | | | | | < 
                   +07.1710560   | | | | | | | | > Installing CKCore kernel.
                   +07.2527982   | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | |    | Already installed in version 15.
                   +07.2738896 i | | | | | | | | > Reading original versions.
                   +07.2755216   | | | | | | | | | > Installing SqlVersionedItemRepository store.
                   +07.2799622   | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | |    | Already installed in version 1.
                   +07.2928609 i | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | |    | Got 10 versions.
                   +07.2953113 i | | | | | | | | > Setupable Core Engine initialization.
                   +07.2955214 i | | | | | | | | | Starting a new setup.
                   +07.2973118 i | | | | | | | | < 
                   +07.2973372 i | | | | | | | | > Register step.
                   +07.3300084 i | | | | | | | | | > Instanciating drivers for 38 items.
                   +07.3442981 i | | | | | | | | | < 
                   +07.3445074 i | | | | | | | | | > Calling PreInit on 38 drivers.
                   +07.3551861 i | | | | | | | | | | 0 sql scripts in resource found for 'CK.ActorTable' in 'CK.DB.Actor:CK.DB.Actor.Res.*.
                   +07.3614009 i | | | | | | | | | | 1 sql scripts in resource found for 'Model.CK.ActorTable' in 'CK.DB.Actor:CK.DB.Actor.Res.*.
                   +07.3661776 i | | | | | | | | | | 0 sql scripts in resource found for 'CK.GroupTable' in 'CK.DB.Actor:CK.DB.Actor.Res.*.
                   +07.3663132 i | | | | | | | | | | 2 sql scripts in resource found for 'Model.CK.GroupTable' in 'CK.DB.Actor:CK.DB.Actor.Res.*.
                   +07.3665046 i | | | | | | | | | | 0 sql scripts in resource found for 'CK.UserTable' in 'CK.DB.Actor:CK.DB.Actor.Res.*.
                   +07.3666135 i | | | | | | | | | | 5 sql scripts in resource found for 'Model.CK.UserTable' in 'CK.DB.Actor:CK.DB.Actor.Res.*.
                   +07.3668148 i | | | | | | | | | | 0 sql scripts in resource found for 'CK.ActorProfileTable' in 'CK.DB.Actor:CK.DB.Actor.Res.*.
                   +07.3668781 i | | | | | | | | | | 1 sql scripts in resource found for 'Model.CK.ActorProfileTable' in 'CK.DB.Actor:CK.DB.Actor.Res.*.
                   +07.3670312 i | | | | | | | | | | 0 sql scripts in resource found for 'CK.DB.Actor.Package' in 'CK.DB.Actor:CK.DB.Actor.Res.*.
                   +07.3670718 i | | | | | | | | | | 0 sql scripts in resource found for 'Model.CK.DB.Actor.Package' in 'CK.DB.Actor:CK.DB.Actor.Res.*.
                   +07.3674293 i | | | | | | | | | < 
                   +07.3674583 i | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | |    | 38 Setup items registered.
                   +07.3674815 i | | | | | | | | > Init step.
                   +07.3688127   | | | | | | | | | > Raising Init setup event.
                   +07.3688510   | | | | | | | | | < 
                   +07.3688644 i | | | | | | | | | > Initializing []CK._g.poco.Factory
                   +07.3704727 i | | | | | | | | | < 
                   +07.3704973 i | | | | | | | | | > Initializing []db^SqlDatabase.Connection
                   +07.3739431   | | | | | | | | | | if not exists(select 1 from sys.schemas where name = 'CK') begin exec( 'create schema [CK]' ); end
                   +07.3741801   | | | | | | | | | | GO
                   +07.3774766   | | | | | | | | | | -- Ensure that snapshot_isolation and read_committed_snapshot are on for this db.
                                 | | | | | | | | | |   declare @dbName sysname = DB_NAME();
                                 | | | | | | | | | |   declare @dbNameQ sysname = QUOTENAME(@dbName);
                                 | | | | | | | | | |   declare @isSingleUser bit = 0;
                                 | | | | | | | | | |   declare @isRCSEnabled int;
                                 | | | | | | | | | |   select @isRCSEnabled = is_read_committed_snapshot_on from sys.databases where name = @dbName;
                                 | | | | | | | | | |   if @isRCSEnabled = 0
                                 | | | | | | | | | |   begin
                                 | | | | | | | | | |       exec( 'alter database '+@dbNameQ+' set single_user with rollback immediate;' );
                                 | | | | | | | | | |       set @isSingleUser = 1;
                                 | | | | | | | | | |       exec( 'alter database '+@dbNameQ+' set read_committed_snapshot on;' );
                                 | | | | | | | | | |   end;
                                 | | | | | | | | | |    
                                 | | | | | | | | | |   declare @isSIEnabled int;
                                 | | | | | | | | | |   select @isSIEnabled = snapshot_isolation_state from sys.databases where name = @dbName;
                                 | | | | | | | | | |   if @isSIEnabled = 0
                                 | | | | | | | | | |   begin
                                 | | | | | | | | | |       if @isSingleUser = 0 exec ('alter database ' + @dbNameQ + ' set single_user with rollback immediate;');
                                 | | | | | | | | | |       exec( 'alter database '+@dbNameQ+' set allow_snapshot_isolation on;' );
                                 | | | | | | | | | |   end;
                                 | | | | | | | | | |    
                                 | | | | | | | | | |   if @isSingleUser = 1 exec( 'alter database '+@dbNameQ+' set multi_user;' );
                   +07.3776238   | | | | | | | | | | GO
                   +07.4165165 i | | | | | | | | | < 
                   +07.4165451 i | | | | | | | | | > Initializing []db^Model.SqlDatabase.Head
                   +07.4168521 i | | | | | | | | | < 
                   +07.4168659 i | | | | | | | | | > Initializing []db^Model.CK.DB.Actor.Package.Head
                   +07.4168900 i | | | | | | | | | < 
                   +07.4168972 i | | | | | | | | | > Initializing []db^Model.CK.ActorTable.Head
                   +07.4169262 i | | | | | | | | | < 
                   +07.4169342 i | | | | | | | | | > Initializing []db^Model.CK.ActorTable
                   +07.4170877 i | | | | | | | | | < 
                   +07.4171006 i | | | | | | | | | > Initializing []db^Model.CK.GroupTable.Head
                   +07.4171247 i | | | | | | | | | < 
                   +07.4171346 i | | | | | | | | | > Initializing []db^Model.CK.UserTable.Head
                   +07.4171533 i | | | | | | | | | < 
                   +07.4171618 i | | | | | | | | | > Initializing []db^Model.CK.GroupTable
                   +07.4171828 i | | | | | | | | | < 
                   +07.4171917 i | | | | | | | | | > Initializing []db^Model.CK.UserTable
                   +07.4172109 i | | | | | | | | | < 
                   +07.4172176 i | | | | | | | | | > Initializing []db^Model.CK.ActorProfileTable.Head
                   +07.4172345 i | | | | | | | | | < 
                   +07.4172408 i | | | | | | | | | > Initializing []db^Model.CK.ActorProfileTable
                   +07.4172573 i | | | | | | | | | < 
                   +07.4172640 i | | | | | | | | | > Initializing []db^Model.CK.DB.Actor.Package
                   +07.4172800 i | | | | | | | | | < 
                   +07.4172867 i | | | | | | | | | > Initializing []db^Model.SqlDatabase
                   +07.4173028 i | | | | | | | | | < 
                   +07.4173095 i | | | | | | | | | > Initializing []db^SqlDatabase.Head
                   +07.4173287 i | | | | | | | | | < 
                   +07.4173380 i | | | | | | | | | > Initializing []db^CK.DB.Actor.Package.Head
                   +07.4176785 i | | | | | | | | | < 
                   +07.4177009 i | | | | | | | | | > Initializing []db^CK.ActorTable.Head
                   +07.4177821 i | | | | | | | | | < 
                   +07.4177999 i | | | | | | | | | > Initializing []db^CK.sActorCreate
                   +07.4178347 i | | | | | | | | | < 
                   +07.4178486 i | | | | | | | | | > Initializing []db^CK.ActorTable
                   +07.4178883 i | | | | | | | | | < 
                   +07.4179026 i | | | | | | | | | > Initializing []db^CK.GroupTable.Head
                   +07.4179383 i | | | | | | | | | < 
                   +07.4179525 i | | | | | | | | | > Initializing []db^CK.UserTable.Head
                   +07.4179860 i | | | | | | | | | < 
                   +07.4180012 i | | | | | | | | | > Initializing []db^CK.sGroupCreate
                   +07.4180369 i | | | | | | | | | < 
                   +07.4180521 i | | | | | | | | | > Initializing []db^CK.sGroupUserAdd
                   +07.4180873 i | | | | | | | | | < 
                   +07.4181011 i | | | | | | | | | > Initializing []db^CK.sGroupUserRemove
                   +07.4181355 i | | | | | | | | | < 
                   +07.4181502 i | | | | | | | | | > Initializing []db^CK.sUserCreate
                   +07.4181891 i | | | | | | | | | < 
                   +07.4182065 i | | | | | | | | | > Initializing []db^CK.sUserUserNameSet
                   +07.4182413 i | | | | | | | | | < 
                   +07.4182555 i | | | | | | | | | > Initializing []db^CK.vGroup
                   +07.4182979 i | | | | | | | | | < 
                   +07.4183118 i | | | | | | | | | > Initializing []db^CK.vUser
                   +07.4183488 i | | | | | | | | | < 
                   +07.4183725 i | | | | | | | | | > Initializing []db^CK.sGroupRemoveAllUsers
                   +07.4184068 i | | | | | | | | | < 
                   +07.4184225 i | | | | | | | | | > Initializing []db^CK.sUserRemoveFromAllGroups
                   +07.4184555 i | | | | | | | | | < 
                   +07.4184689 i | | | | | | | | | > Initializing []db^CK.sGroupDestroy
                   +07.4185032 i | | | | | | | | | < 
                   +07.4185180 i | | | | | | | | | > Initializing []db^CK.sUserDestroy
                   +07.4185528 i | | | | | | | | | < 
                   +07.4185675 i | | | | | | | | | > Initializing []db^CK.GroupTable
                   +07.4186023 i | | | | | | | | | < 
                   +07.4186166 i | | | | | | | | | > Initializing []db^CK.UserTable
                   +07.4186496 i | | | | | | | | | < 
                   +07.4186639 i | | | | | | | | | > Initializing []db^CK.ActorProfileTable.Head
                   +07.4187000 i | | | | | | | | | < 
                   +07.4187179 i | | | | | | | | | > Initializing []db^CK.ActorProfileTable
                   +07.4187562 i | | | | | | | | | < 
                   +07.4187728 i | | | | | | | | | > Initializing []db^CK.DB.Actor.Package
                   +07.4188076 i | | | | | | | | | < 
                   +07.4188232 i | | | | | | | | | > Initializing []db^SqlDatabase
                   +07.4188575 i | | | | | | | | | < 
                   +07.4188772 i | | | | | | | | < 
                   +07.4188941 i | | | | | | | | > Install step.
                   +07.4197812   | | | | | | | | | > Raising Install setup event.
                   +07.4198067   | | | | | | | | | < 
                   +07.4203739 i | | | | | | | | | > Installing []CK._g.poco.Factory (unversioned).
                   +07.4216903 i | | | | | | | | | < 
                   +07.4217082 i | | | | | | | | | > Installing []db^SqlDatabase.Connection (unversioned).
                   +07.4217358 i | | | | | | | | | < 
                   +07.4217461 i | | | | | | | | | > Installing []db^Model.SqlDatabase.Head (unversioned).
                   +07.4219340 i | | | | | | | | | < 
                   +07.4221138 i | | | | | | | | | > Installing []db^Model.CK.DB.Actor.Package.Head (= 5.0.0 =).
                   +07.4221379 i | | | | | | | | | < 
                   +07.4221549 i | | | | | | | | | > Installing []db^Model.CK.ActorTable.Head (= 5.0.0 =).
                   +07.4221749 i | | | | | | | | | < 
                   +07.4221830 i | | | | | | | | | > Installing []db^Model.CK.ActorTable (= 5.0.0 =).
                   +07.4223351 i | | | | | | | | | < 
                   +07.4223494 i | | | | | | | | | > Installing []db^Model.CK.GroupTable.Head (= 5.0.1 =).
                   +07.4223776 i | | | | | | | | | < 
                   +07.4223860 i | | | | | | | | | > Installing []db^Model.CK.UserTable.Head (= 5.0.3 =).
                   +07.4224066 i | | | | | | | | | < 
                   +07.4224182 i | | | | | | | | | > Installing []db^Model.CK.GroupTable (= 5.0.1 =).
                   +07.4224400 i | | | | | | | | | < 
                   +07.4224481 i | | | | | | | | | > Installing []db^Model.CK.UserTable (= 5.0.3 =).
                   +07.4224695 i | | | | | | | | | < 
                   +07.4224780 i | | | | | | | | | > Installing []db^Model.CK.ActorProfileTable.Head (= 5.0.0 =).
                   +07.4224989 i | | | | | | | | | < 
                   +07.4225096 i | | | | | | | | | > Installing []db^Model.CK.ActorProfileTable (= 5.0.0 =).
                   +07.4225320 i | | | | | | | | | < 
                   +07.4225404 i | | | | | | | | | > Installing []db^Model.CK.DB.Actor.Package (= 5.0.0 =).
                   +07.4225619 i | | | | | | | | | < 
                   +07.4225726 i | | | | | | | | | > Installing []db^Model.SqlDatabase (unversioned).
                   +07.4225989 i | | | | | | | | | < 
                   +07.4226092 i | | | | | | | | | > Installing []db^SqlDatabase.Head (unversioned).
                   +07.4226399 i | | | | | | | | | < 
                   +07.4226511 i | | | | | | | | | > Installing []db^CK.DB.Actor.Package.Head (= 5.0.0 =).
                   +07.4226765 i | | | | | | | | | < 
                   +07.4226895 i | | | | | | | | | > Installing []db^CK.ActorTable.Head (= 5.0.0 =).
                   +07.4227176 i | | | | | | | | | < 
                   +07.4227287 i | | | | | | | | | > Installing []db^CK.sActorCreate (unversioned).
                   +07.4328000   | | | | | | | | | | if OBJECT_ID('CK.sActorCreate') is not null drop Procedure CK.sActorCreate;
                   +07.4328513   | | | | | | | | | | GO
                   +07.4591701   | | | | | | | | | | -- SetupConfig: {}
                                 | | | | | | | | | |   create procedure CK.sActorCreate 
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |   	@ActorId int,
                                 | | | | | | | | | |   	@ActorIdResult int output
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as
                                 | | | | | | | | | |   begin
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   --<PreCreate revert />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	insert into CK.tActor default values;
                                 | | | | | | | | | |   	set @ActorIdResult = SCOPE_IDENTITY();
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	-- The actor is in its own group.
                                 | | | | | | | | | |   	insert into CK.tActorProfile( ActorId, GroupId ) values( @ActorIdResult, @ActorIdResult );
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	--<PostCreate />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.4592714   | | | | | | | | | | GO
                   +07.4613425 i | | | | | | | | | < 
                   +07.4613804 i | | | | | | | | | > Installing []db^CK.ActorTable (= 5.0.0 =).
                   +07.4614201 i | | | | | | | | | < 
                   +07.4614420 i | | | | | | | | | > Installing []db^CK.GroupTable.Head (= 5.0.1 =).
                   +07.4614666 i | | | | | | | | | < 
                   +07.4614750 i | | | | | | | | | > Installing []db^CK.UserTable.Head (= 5.0.3 =).
                   +07.4615027 i | | | | | | | | | < 
                   +07.4615103 i | | | | | | | | | > Installing []db^CK.sGroupCreate (unversioned).
                   +07.4617504   | | | | | | | | | | if OBJECT_ID('CK.sGroupCreate') is not null drop Procedure CK.sGroupCreate;
                   +07.4617843   | | | | | | | | | | GO
                   +07.4659625   | | | | | | | | | | -- SetupConfig: { "Requires": [ "CK.sActorCreate" ] }
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   -- Creates a Group.
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   create procedure CK.sGroupCreate 
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |   	@ActorId int,
                                 | | | | | | | | | |   	@GroupIdResult int output
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |       if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   --<PreCreate revert />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	exec CK.sActorCreate @ActorId, @GroupIdResult output;
                                 | | | | | | | | | |   	insert into CK.tGroup( GroupId ) values( @GroupIdResult );
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	--<PostCreate />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.4660665   | | | | | | | | | | GO
                   +07.4679201 i | | | | | | | | | < 
                   +07.4679540 i | | | | | | | | | > Installing []db^CK.sGroupUserAdd (unversioned).
                   +07.4682495   | | | | | | | | | | if OBJECT_ID('CK.sGroupUserAdd') is not null drop Procedure CK.sGroupUserAdd;
                   +07.4682951   | | | | | | | | | | GO
                   +07.4890817   | | | | | | | | | | -- SetupConfig: {}
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   -- Add a User to a Group. Does nothing if the User is already in the Group.
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   create procedure CK.sGroupUserAdd 
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |   	@ActorId int,
                                 | | | | | | | | | |   	@GroupId int,
                                 | | | | | | | | | |   	@UserId int
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |       if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |       if @GroupId <= 0 throw 50000, 'Group.InvalidId', 1;
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	-- System is, somehow, already in all groups.
                                 | | | | | | | | | |       if @UserId = 1 return 0;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   if @GroupId <> @UserId and not exists (select * from CK.tActorProfile where GroupId = @GroupId and ActorId = @UserId)
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		-- If this is the System Group, only members of it can add new Users.
                                 | | | | | | | | | |   		if @GroupId = 1 
                                 | | | | | | | | | |   		begin
                                 | | | | | | | | | |   			if not exists( select 1 from CK.tActorProfile p where p.GroupId = 1 and p.ActorId = @ActorId ) 
                                 | | | | | | | | | |   			begin
                                 | | | | | | | | | |   				;throw 50000, 'Security.ActorMustBeSytem', 1;
                                 | | | | | | | | | |   			end
                                 | | | | | | | | | |   		end
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		--<PreUserAdd revert />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		insert into CK.tActorProfile( ActorId, GroupId ) values( @UserId, @GroupId );
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		--<PostUserAdd />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.4892044   | | | | | | | | | | GO
                   +07.4910590 i | | | | | | | | | < 
                   +07.4910835 i | | | | | | | | | > Installing []db^CK.sGroupUserRemove (unversioned).
                   +07.4912991   | | | | | | | | | | if OBJECT_ID('CK.sGroupUserRemove') is not null drop Procedure CK.sGroupUserRemove;
                   +07.4913339   | | | | | | | | | | GO
                   +07.4938859   | | | | | | | | | | -- SetupConfig: {}
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   -- Removes a User from a Group.
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   create procedure CK.sGroupUserRemove
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |   	@ActorId int,
                                 | | | | | | | | | |   	@GroupId int,
                                 | | | | | | | | | |   	@UserId int
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |       if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |       if @GroupId <= 0 throw 50000, 'Group.InvalidId', 1;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   if @GroupId <> @UserId and exists (select * from CK.tActorProfile where GroupId = @GroupId and ActorId = @UserId)
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		-- If this is the System Group, only members of it can remove Users.
                                 | | | | | | | | | |   		if @GroupId = 1 
                                 | | | | | | | | | |   		begin
                                 | | | | | | | | | |   			if not exists( select 1 from CK.tActorProfile p where p.GroupId = 1 and p.ActorId = @ActorId ) 
                                 | | | | | | | | | |   			begin
                                 | | | | | | | | | |   				;throw 50000, 'Security.ActorMustBeSytem', 1;
                                 | | | | | | | | | |   			end
                                 | | | | | | | | | |   		end
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		--<PreUserRemove revert />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		delete from CK.tActorProfile where GroupId = @GroupId and ActorId = @UserId;
                                 | | | | | | | | | |   		
                                 | | | | | | | | | |   		--<PostUserRemove />
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.4940185   | | | | | | | | | | GO
                   +07.4958423 i | | | | | | | | | < 
                   +07.4958843 i | | | | | | | | | > Installing []db^CK.sUserCreate (unversioned).
                   +07.4960873   | | | | | | | | | | if OBJECT_ID('CK.sUserCreate') is not null drop Procedure CK.sUserCreate;
                   +07.4961150   | | | | | | | | | | GO
                   +07.4991820   | | | | | | | | | | -- SetupConfig: { "Requires": [ "CK.sActorCreate" ] }
                                 | | | | | | | | | |   create procedure CK.sUserCreate 
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |   	@ActorId int,
                                 | | | | | | | | | |   	@UserName nvarchar( 255 ),
                                 | | | | | | | | | |   	@UserIdResult int output
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as
                                 | | | | | | | | | |   begin
                                 | | | | | | | | | |       if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   set @UserIdResult = 0;
                                 | | | | | | | | | |   	if exists( select UserId from CK.tUser where UserName = @UserName )
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		set @UserIdResult = -1;
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   	if @UserIdResult = 0
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		--<PreCreate revert />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		exec CK.sActorCreate @ActorId, @UserIdResult output;
                                 | | | | | | | | | |   		insert into CK.tUser( UserId, UserName ) values ( @UserIdResult, @UserName );
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		--<PostCreate />
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.4993275   | | | | | | | | | | GO
                   +07.5015185 i | | | | | | | | | < 
                   +07.5015565 i | | | | | | | | | > Installing []db^CK.sUserUserNameSet (unversioned).
                   +07.5017448   | | | | | | | | | | if OBJECT_ID('CK.sUserUserNameSet') is not null drop Procedure CK.sUserUserNameSet;
                   +07.5017672   | | | | | | | | | | GO
                   +07.5039443   | | | | | | | | | | -- SetupConfig: {}
                                 | | | | | | | | | |   -- Sets the user name. 
                                 | | | | | | | | | |   -- There is no guaranty that the actual value will be the same as the one requested (if auto numbering 
                                 | | | | | | | | | |   -- is injected for example). 
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   create procedure CK.sUserUserNameSet
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |       @ActorId int,
                                 | | | | | | | | | |       @UserId int,
                                 | | | | | | | | | |       @UserName nvarchar(127),
                                 | | | | | | | | | |   	@Done bit output
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |       if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   set @Done = 1;
                                 | | | | | | | | | |   	if exists( select * from CK.tUser where UserName = @UserName and UserId <> @UserId )
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		set @Done = 0;
                                 | | | | | | | | | |   		--<UserNameSetClash />
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   	if @Done = 1
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		--<PreUserNameSet revert />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		update u 
                                 | | | | | | | | | |   			set u.UserName = @UserName
                                 | | | | | | | | | |   			from CK.tUser u   
                                 | | | | | | | | | |   			where u.UserId = @UserId;
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		--<PostUserNameSet />
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.5041260   | | | | | | | | | | GO
                   +07.5060091 i | | | | | | | | | < 
                   +07.5060332 i | | | | | | | | | > Installing []db^CK.vGroup (unversioned).
                   +07.5064934   | | | | | | | | | | if OBJECT_ID('CK.vGroup') is not null drop View CK.vGroup;
                   +07.5065344   | | | | | | | | | | GO
                   +07.5091133   | | | | | | | | | | -- SetupConfig: {}
                                 | | | | | | | | | |   create view CK.vGroup
                                 | | | | | | | | | |   as 
                                 | | | | | | | | | |   	select  g.GroupId,
                                 | | | | | | | | | |   			GroupName = N'#Group-' +  cast(g.GroupId as varchar),
                                 | | | | | | | | | |   			UserCount = (select count(*) 
                                 | | | | | | | | | |   							from CK.tUser u with(nolock) 
                                 | | | | | | | | | |   							inner join CK.tActorProfile p with(nolock) on p.ActorId = u.UserId
                                 | | | | | | | | | |   							where p.GroupId = g.GroupId)
                                 | | | | | | | | | |   		from CK.tGroup g;
                   +07.5091686   | | | | | | | | | | GO
                   +07.5108634 i | | | | | | | | | < 
                   +07.5108880 i | | | | | | | | | > Installing []db^CK.vUser (unversioned).
                   +07.5111026   | | | | | | | | | | if OBJECT_ID('CK.vUser') is not null drop View CK.vUser;
                   +07.5111272   | | | | | | | | | | GO
                   +07.5127100   | | | | | | | | | | -- SetupConfig: {}
                                 | | | | | | | | | |   create view CK.vUser
                                 | | | | | | | | | |   as 
                                 | | | | | | | | | |   	select  u.UserId,
                                 | | | | | | | | | |   			u.CreationDate,
                                 | | | | | | | | | |   			u.UserName
                                 | | | | | | | | | |   		from CK.tUser u;
                   +07.5127488   | | | | | | | | | | GO
                   +07.5139046 i | | | | | | | | | < 
                   +07.5139242 i | | | | | | | | | > Installing []db^CK.sGroupRemoveAllUsers (unversioned).
                   +07.5140960   | | | | | | | | | | if OBJECT_ID('CK.sGroupRemoveAllUsers') is not null drop Procedure CK.sGroupRemoveAllUsers;
                   +07.5141175   | | | | | | | | | | GO
                   +07.5172943   | | | | | | | | | | -- SetupConfig: { "Requires": [ "CK.sGroupUserRemove" ] }
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   -- Clears a Group.
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   create procedure CK.sGroupRemoveAllUsers
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |   	@ActorId int,
                                 | | | | | | | | | |   	@GroupId int
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |       if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |       if @GroupId <= 0 throw 50000, 'Group.InvalidGroup', 1;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   declare @UserId int;
                                 | | | | | | | | | |   	declare @CUser cursor;
                                 | | | | | | | | | |   	set @CUser = cursor local fast_forward for 
                                 | | | | | | | | | |   		select ActorId from CK.tActorProfile p 
                                 | | | | | | | | | |   						inner join CK.tUser u on u.UserId = p.ActorId
                                 | | | | | | | | | |   						where p.GroupId = @GroupId and p.ActorId <> @GroupId;
                                 | | | | | | | | | |   	open @CUser;
                                 | | | | | | | | | |   	fetch from @CUser into @UserId;
                                 | | | | | | | | | |   	while @@FETCH_STATUS = 0
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		exec CK.sGroupUserRemove @ActorId, @GroupId, @UserId;
                                 | | | | | | | | | |   		fetch next from @CUser into @UserId;
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   	deallocate @CUser;
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.5174099   | | | | | | | | | | GO
                   +07.5193810 i | | | | | | | | | < 
                   +07.5194069 i | | | | | | | | | > Installing []db^CK.sUserRemoveFromAllGroups (unversioned).
                   +07.5195840   | | | | | | | | | | if OBJECT_ID('CK.sUserRemoveFromAllGroups') is not null drop Procedure CK.sUserRemoveFromAllGroups;
                   +07.5196251   | | | | | | | | | | GO
                   +07.5214511   | | | | | | | | | | -- SetupConfig: { "Requires": [ "CK.sGroupUserRemove" ] }
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   -- Removes a User from all the Groups it belongs to.
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   create procedure CK.sUserRemoveFromAllGroups
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |   	@ActorId int,
                                 | | | | | | | | | |   	@UserId int
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |       if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   declare @GroupId int;
                                 | | | | | | | | | |   	declare @CGroup cursor;
                                 | | | | | | | | | |   	set @CGroup = cursor local fast_forward for 
                                 | | | | | | | | | |   		select GroupId from CK.tActorProfile where ActorId = @UserId and GroupId <> @UserId;
                                 | | | | | | | | | |   	open @CGroup
                                 | | | | | | | | | |   	fetch from @CGroup into @GroupId
                                 | | | | | | | | | |   	while @@FETCH_STATUS = 0
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		exec CK.sGroupUserRemove @ActorId, @GroupId, @UserId;
                                 | | | | | | | | | |   		fetch next from @CGroup into @GroupId;
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   	deallocate @CGroup;
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.5215823   | | | | | | | | | | GO
                   +07.5232035 i | | | | | | | | | < 
                   +07.5232254 i | | | | | | | | | > Installing []db^CK.sGroupDestroy (unversioned).
                   +07.5234052   | | | | | | | | | | if OBJECT_ID('CK.sGroupDestroy') is not null drop Procedure CK.sGroupDestroy;
                   +07.5234467   | | | | | | | | | | GO
                   +07.5256825   | | | | | | | | | | -- SetupConfig: { "Requires": [ "CK.sGroupRemoveAllUsers" ] }
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   -- Destroys a Group: can work only if there is no Users inside the Group except if @ForceDestroy = 1.
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   create procedure CK.sGroupDestroy
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |   	@ActorId int,
                                 | | | | | | | | | |   	@GroupId int,
                                 | | | | | | | | | |   	@ForceDestroy bit = 0
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |       if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |       if @GroupId <= 1 throw 50000, 'Group.Undestroyable', 1;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   --<PreDestroy revert />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	if @ForceDestroy = 1
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		exec CK.sGroupRemoveAllUsers @ActorId, @GroupId;
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   	else
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		if exists( select * from CK.tActorProfile where GroupId = @GroupId and ActorId <> @GroupId ) throw 50000, 'Group.NotEmptyGroup', 1;
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   	delete from CK.tActorProfile where GroupId = @GroupId;
                                 | | | | | | | | | |   	delete from CK.tGroup where GroupId = @GroupId;
                                 | | | | | | | | | |   	delete from CK.tActor where ActorId = @GroupId;
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	--<PostDestroy />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.5258311   | | | | | | | | | | GO
                   +07.5278262 i | | | | | | | | | < 
                   +07.5278668 i | | | | | | | | | > Installing []db^CK.sUserDestroy (unversioned).
                   +07.5280578   | | | | | | | | | | if OBJECT_ID('CK.sUserDestroy') is not null drop Procedure CK.sUserDestroy;
                   +07.5280841   | | | | | | | | | | GO
                   +07.5297995   | | | | | | | | | | -- SetupConfig: { "Requires": [ "CK.sUserRemoveFromAllGroups" ] }
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   -- Destroys a User: automatically removes it from any Groups it may belong to.
                                 | | | | | | | | | |   --
                                 | | | | | | | | | |   create procedure CK.sUserDestroy
                                 | | | | | | | | | |   (
                                 | | | | | | | | | |   	@ActorId int,
                                 | | | | | | | | | |   	@UserId int
                                 | | | | | | | | | |   )
                                 | | | | | | | | | |   as begin
                                 | | | | | | | | | |       if @ActorId <= 0 throw 50000, 'Security.AnonymousNotAllowed', 1;
                                 | | | | | | | | | |       if @UserId <= 1 throw 50000, 'User.Undestroyable', 1;
                                 | | | | | | | | | |   --[=beginsp]
                                 | | | | | | | | | |   set nocount on; declare @SPCallTC int = @@TRANCOUNT, @SPCallId sysname; 
                                 | | | | | | | | | |   beginsp: if @SPCallTC = 0 begin tran; else begin set @SPCallId = cast(32*cast(@@PROCID as bigint)+@@NESTLEVEL as varchar); save transaction @SPCallId; end begin try
                                 | | | | | | | | | |   --[=/beginsp]
                                 | | | | | | | | | |   if exists( select * from CK.tUser where UserId = @UserId )
                                 | | | | | | | | | |   	begin
                                 | | | | | | | | | |   		--<PreDestroy revert />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		exec CK.sUserRemoveFromAllGroups @ActorId, @UserId;
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		delete from CK.tActorProfile where ActorId = @UserId;
                                 | | | | | | | | | |   		delete from CK.tUser where UserId = @UserId;
                                 | | | | | | | | | |   		delete from CK.tActor where ActorId = @UserId;
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   		--<PostDestroy />
                                 | | | | | | | | | |   
                                 | | | | | | | | | |   	end
                                 | | | | | | | | | |   --[=endsp]
                                 | | | | | | | | | |   end try
                                 | | | | | | | | | |   begin catch if @SPCallTC = 0 rollback; else if XACT_STATE() = 1 rollback transaction @SPCallId; exec CKCore.sErrorRethrow @@ProcId; return -1; end catch;
                                 | | | | | | | | | |   endsp: if @SPCallTC = 0 commit; return 0;
                                 | | | | | | | | | |   --[=/endsp]
                                 | | | | | | | | | |   end
                   +07.5299614   | | | | | | | | | | GO
                   +07.5329678 i | | | | | | | | | < 
                   +07.5330129 i | | | | | | | | | > Installing []db^CK.GroupTable (= 5.0.1 =).
                   +07.5330375 i | | | | | | | | | < 
                   +07.5330464 i | | | | | | | | | > Installing []db^CK.UserTable (= 5.0.3 =).
                   +07.5330691 i | | | | | | | | | < 
                   +07.5330790 i | | | | | | | | | > Installing []db^CK.ActorProfileTable.Head (= 5.0.0 =).
                   +07.5330977 i | | | | | | | | | < 
                   +07.5331080 i | | | | | | | | | > Installing []db^CK.ActorProfileTable (= 5.0.0 =).
                   +07.5331267 i | | | | | | | | | < 
                   +07.5331361 i | | | | | | | | | > Installing []db^CK.DB.Actor.Package (= 5.0.0 =).
                   +07.5331584 i | | | | | | | | | < 
                   +07.5331669 i | | | | | | | | | > Installing []db^SqlDatabase (unversioned).
                   +07.5331878 i | | | | | | | | | < 
                   +07.5332012 i | | | | | | | | < 
                   +07.5332102 i | | | | | | | | > Settle step.
                   +07.5343168   | | | | | | | | | > Raising Settle setup event.
                   +07.5343512   | | | | | | | | | < 
                   +07.5343668 i | | | | | | | | | > Settling []CK._g.poco.Factory.
                   +07.5361165 i | | | | | | | | | < 
                   +07.5361406 i | | | | | | | | | > Settling []db^SqlDatabase.Connection.
                   +07.5363686 i | | | | | | | | | < 
                   +07.5363914 i | | | | | | | | | > Settling []db^Model.SqlDatabase.Head.
                   +07.5365735 i | | | | | | | | | < 
                   +07.5365958 i | | | | | | | | | > Settling []db^Model.CK.DB.Actor.Package.Head.
                   +07.5366194 i | | | | | | | | | < 
                   +07.5366288 i | | | | | | | | | > Settling []db^Model.CK.ActorTable.Head.
                   +07.5366511 i | | | | | | | | | < 
                   +07.5366592 i | | | | | | | | | > Settling []db^Model.CK.ActorTable.
                   +07.5376570 i | | | | | | | | | < 
                   +07.5376873 i | | | | | | | | | > Settling []db^Model.CK.GroupTable.Head.
                   +07.5377409 i | | | | | | | | | < 
                   +07.5377503 i | | | | | | | | | > Settling []db^Model.CK.UserTable.Head.
                   +07.5377735 i | | | | | | | | | < 
                   +07.5377819 i | | | | | | | | | > Settling []db^Model.CK.GroupTable.
                   +07.5378136 i | | | | | | | | | < 
                   +07.5378212 i | | | | | | | | | > Settling []db^Model.CK.UserTable.
                   +07.5378676 i | | | | | | | | | < 
                   +07.5378761 i | | | | | | | | | > Settling []db^Model.CK.ActorProfileTable.Head.
                   +07.5378989 i | | | | | | | | | < 
                   +07.5379060 i | | | | | | | | | > Settling []db^Model.CK.ActorProfileTable.
                   +07.5379346 i | | | | | | | | | < 
                   +07.5379421 i | | | | | | | | | > Settling []db^Model.CK.DB.Actor.Package.
                   +07.5379662 i | | | | | | | | | < 
                   +07.5379756 i | | | | | | | | | > Settling []db^Model.SqlDatabase.
                   +07.5379970 i | | | | | | | | | < 
                   +07.5380042 i | | | | | | | | | > Settling []db^SqlDatabase.Head.
                   +07.5380278 i | | | | | | | | | < 
                   +07.5380350 i | | | | | | | | | > Settling []db^CK.DB.Actor.Package.Head.
                   +07.5380533 i | | | | | | | | | < 
                   +07.5380649 i | | | | | | | | | > Settling []db^CK.ActorTable.Head.
                   +07.5380876 i | | | | | | | | | < 
                   +07.5380970 i | | | | | | | | | > Settling []db^CK.sActorCreate.
                   +07.5381251 i | | | | | | | | | < 
                   +07.5381349 i | | | | | | | | | > Settling []db^CK.ActorTable.
                   +07.5381577 i | | | | | | | | | < 
                   +07.5381688 i | | | | | | | | | > Settling []db^CK.GroupTable.Head.
                   +07.5382028 i | | | | | | | | | < 
                   +07.5382152 i | | | | | | | | | > Settling []db^CK.UserTable.Head.
                   +07.5382376 i | | | | | | | | | < 
                   +07.5382465 i | | | | | | | | | > Settling []db^CK.sGroupCreate.
                   +07.5382706 i | | | | | | | | | < 
                   +07.5382777 i | | | | | | | | | > Settling []db^CK.sGroupUserAdd.
                   +07.5383018 i | | | | | | | | | < 
                   +07.5383094 i | | | | | | | | | > Settling []db^CK.sGroupUserRemove.
                   +07.5383290 i | | | | | | | | | < 
                   +07.5383362 i | | | | | | | | | > Settling []db^CK.sUserCreate.
                   +07.5383554 i | | | | | | | | | < 
                   +07.5383674 i | | | | | | | | | > Settling []db^CK.sUserUserNameSet.
                   +07.5383866 i | | | | | | | | | < 
                   +07.5383942 i | | | | | | | | | > Settling []db^CK.vGroup.
                   +07.5384138 i | | | | | | | | | < 
                   +07.5384210 i | | | | | | | | | > Settling []db^CK.vUser.
                   +07.5384469 i | | | | | | | | | < 
                   +07.5384593 i | | | | | | | | | > Settling []db^CK.sGroupRemoveAllUsers.
                   +07.5384901 i | | | | | | | | | < 
                   +07.5385013 i | | | | | | | | | > Settling []db^CK.sUserRemoveFromAllGroups.
                   +07.5385357 i | | | | | | | | | < 
                   +07.5385468 i | | | | | | | | | > Settling []db^CK.sGroupDestroy.
                   +07.5385731 i | | | | | | | | | < 
                   +07.5385807 i | | | | | | | | | > Settling []db^CK.sUserDestroy.
                   +07.5386088 i | | | | | | | | | < 
                   +07.5386200 i | | | | | | | | | > Settling []db^CK.GroupTable.
                   +07.5386584 i | | | | | | | | | < 
                   +07.5386825 i | | | | | | | | | > Settling []db^CK.UserTable.
                   +07.5387521 i | | | | | | | | | < 
                   +07.5387699 i | | | | | | | | | > Settling []db^CK.ActorProfileTable.Head.
                   +07.5388007 i | | | | | | | | | < 
                   +07.5388083 i | | | | | | | | | > Settling []db^CK.ActorProfileTable.
                   +07.5388364 i | | | | | | | | | < 
                   +07.5388471 i | | | | | | | | | > Settling []db^CK.DB.Actor.Package.
                   +07.5388895 i | | | | | | | | | < 
                   +07.5389020 i | | | | | | | | | > Settling []db^SqlDatabase.
                   +07.5389301 i | | | | | | | | | < 
                   +07.5389475   | | | | | | | | | > Raising Success setup event.
                   +07.5389708   | | | | | | | | | < 
                   +07.5389783 i | | | | | | | | < 
                   +07.5396370 i | | | | | | | | > Disposing 38 drivers.
                   +07.5396807 i | | | | | | | | < 
                   +07.5396999   | | | | | | | | > Raising Disposed setup event.
                   +07.5404300   | | | | | | | | < 
                   +07.5432204 i | | | | | | | < 
                   +07.5432557 i | | | | | | | > Aspect: CK.SqlServer.Setup.SqlSetupAspect.
                   +07.5434163 i | | | | | | | < 
                   +07.5434578 i | | | | | | | > Executing initial 0 deferred actions.
                   +07.5434900 i | | | | | | | <  | 1 conclusion:
                                 | | | | | | |    | Executed 0 actions.
                   +07.5435158 i | | | | | | < 
                   +07.5452018 i | | | | | | > Generating AppContext assembly (first run).
                   +07.5462553 i | | | | | | | > Generating StObj dynamic assembly.
                   +07.5690894 i | | | | | | | | > Generating source code.
                   +07.6254459 i | | | | | | | | | > Generating Method GroupTable.CreateGroupAsync( ISqlCallContext ctx, Int32 actorId ) => Task`1.
                   +07.6350670   | | | | | | | | | | > Low level SqlCommand create method for: 'procedure CK.sGroupCreate(@ActorId int, @GroupIdResult int output)'.
                   +07.6461947   | | | | | | | | | | < 
                   +07.6913263 i | | | | | | | | | < 
                   +07.6914374 i | | | | | | | | | > Generating Method GroupTable.DestroyGroupAsync( ISqlCallContext ctx, Int32 actorId, Int32 groupId, Boolean forceDestroy = False ) => Task.
                   +07.6916824   | | | | | | | | | | > Low level SqlCommand create method for: 'procedure CK.sGroupDestroy(@ActorId int, @GroupId int, @ForceDestroy bit=0)'.
                   +07.6918373   | | | | | | | | | | < 
                   +07.6923986 i | | | | | | | | | < 
                   +07.6924290 i | | | | | | | | | > Generating Method GroupTable.AddUserAsync( ISqlCallContext ctx, Int32 actorId, Int32 groupId, Int32 userId ) => Task.
                   +07.6924879   | | | | | | | | | | > Low level SqlCommand create method for: 'procedure CK.sGroupUserAdd(@ActorId int, @GroupId int, @UserId int)'.
                   +07.6925646   | | | | | | | | | | < 
                   +07.6926700 i | | | | | | | | | < 
                   +07.6926936 i | | | | | | | | | > Generating Method GroupTable.RemoveUserAsync( ISqlCallContext ctx, Int32 actorId, Int32 groupId, Int32 userId ) => Task.
                   +07.6927458   | | | | | | | | | | > Low level SqlCommand create method for: 'procedure CK.sGroupUserRemove(@ActorId int, @GroupId int, @UserId int)'.
                   +07.6928293   | | | | | | | | | | < 
                   +07.6929199 i | | | | | | | | | < 
                   +07.6929417 i | | | | | | | | | > Generating Method GroupTable.RemoveAllUsersAsync( ISqlCallContext ctx, Int32 actorId, Int32 groupId ) => Task.
                   +07.6929890   | | | | | | | | | | > Low level SqlCommand create method for: 'procedure CK.sGroupRemoveAllUsers(@ActorId int, @GroupId int)'.
                   +07.6930310   | | | | | | | | | | < 
                   +07.6931158 i | | | | | | | | | < 
                   +07.6931354 i | | | | | | | | | > Generating Method GroupTable.CreateGroup( ISqlCallContext ctx, Int32 actorId ) => Int32.
                   +07.6939739 i | | | | | | | | | < 
                   +07.6940042 i | | | | | | | | | > Generating Method GroupTable.DestroyGroup( ISqlCallContext ctx, Int32 actorId, Int32 groupId, Boolean forceDestroy = False ).
                   +07.6941122 i | | | | | | | | | < 
                   +07.6941350 i | | | | | | | | | > Generating Method GroupTable.AddUser( ISqlCallContext ctx, Int32 actorId, Int32 groupId, Int32 userId ).
                   +07.6942225 i | | | | | | | | | < 
                   +07.6942608 i | | | | | | | | | > Generating Method GroupTable.RemoveUser( ISqlCallContext ctx, Int32 actorId, Int32 groupId, Int32 userId ).
                   +07.6944179 i | | | | | | | | | < 
                   +07.6944643 i | | | | | | | | | > Generating Method GroupTable.RemoveAllUsers( ISqlCallContext ctx, Int32 actorId, Int32 groupId ).
                   +07.6946183 i | | | | | | | | | < 
                   +07.6947067 i | | | | | | | | | > Generating Method UserTable.CreateUserAsync( ISqlCallContext ctx, Int32 actorId, String userName ) => Task`1.
                   +07.6947883   | | | | | | | | | | > Low level SqlCommand create method for: 'procedure CK.sUserCreate(@ActorId int, @UserName nvarchar(255), @UserIdResult int output)'.
                   +07.6954911   | | | | | | | | | | < 
                   +07.6958388 i | | | | | | | | | < 
                   +07.6958700 i | | | | | | | | | > Generating Method UserTable.UserNameSetAsync( ISqlCallContext ctx, Int32 actorId, Int32 userId, String userName ) => Task`1.
                   +07.6959342   | | | | | | | | | | > Low level SqlCommand create method for: 'procedure CK.sUserUserNameSet(@ActorId int, @UserId int, @UserName nvarchar(127), @Done bit output)'.
                   +07.6960159   | | | | | | | | | | < 
                   +07.6962123 i | | | | | | | | | < 
                   +07.6962359 i | | | | | | | | | > Generating Method UserTable.DestroyUserAsync( ISqlCallContext ctx, Int32 actorId, Int32 userId ) => Task.
                   +07.6962904   | | | | | | | | | | > Low level SqlCommand create method for: 'procedure CK.sUserDestroy(@ActorId int, @UserId int)'.
                   +07.6963546   | | | | | | | | | | < 
                   +07.6964434 i | | | | | | | | | < 
                   +07.6964649 i | | | | | | | | | > Generating Method UserTable.RemoveFromAllGroupsAsync( ISqlCallContext ctx, Int32 actorId, Int32 userId ) => Task.
                   +07.6965139   | | | | | | | | | | > Low level SqlCommand create method for: 'procedure CK.sUserRemoveFromAllGroups(@ActorId int, @UserId int)'.
                   +07.6965541   | | | | | | | | | | < 
                   +07.6966219 i | | | | | | | | | < 
                   +07.6966550 i | | | | | | | | | > Generating Method UserTable.CreateUser( ISqlCallContext ctx, Int32 actorId, String userName ) => Int32.
                   +07.6967701 i | | | | | | | | | < 
                   +07.6967937 i | | | | | | | | | > Generating Method UserTable.UserNameSet( ISqlCallContext ctx, Int32 actorId, Int32 userId, String userName ) => Boolean.
                   +07.6968892 i | | | | | | | | | < 
                   +07.6969218 i | | | | | | | | | > Generating Method UserTable.DestroyUser( ISqlCallContext ctx, Int32 actorId, Int32 userId ).
                   +07.6970276 i | | | | | | | | | < 
                   +07.6970485 i | | | | | | | | | > Generating Method UserTable.RemoveFromAllGroups( ISqlCallContext ctx, Int32 actorId, Int32 userId ).
                   +07.6971280 i | | | | | | | | | < 
                   +07.7153277 i | | | | | | | | < 
                   +07.7153620 i | | | | | | | | > Compiling source code.
                   +12.5761762 i | | | | | | | | | Saved source file: C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Actor.Tests\CKSetup-WorkingDir\2018-04-13 08h39.29.2332637\CK.StObj.AutoAssembly.dll.0.cs
                   +12.5799970 i | | | | | | | | | Saved source file: C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Actor.Tests\CKSetup-WorkingDir\2018-04-13 08h39.29.2332637\CK.StObj.AutoAssembly.dll.1.cs
                   +12.5853166 i | | | | | | | | | > Code Generation information.
                   +12.5854371 i | | | | | | | | | | Source code generation and compilation succeeded.
                   +12.5889666 i | | | | | | | | | <  | 1 conclusion:
                                 | | | | | | | | |    | Succeeded.
                   +12.5892553 i | | | | | | | | < 
                   +12.5892763 i | | | | | | | < 
                   +12.5963056 i | | | | | | | > Copying generated files to folder: 'C:\Dev\CK-Database-Projects\CK-DB\CK.DB.Actor\bin\Debug\netstandard2.0\'.
                   +12.5963774 i | | | | | | | | CK.StObj.AutoAssembly.dll.0.cs
                   +12.6012597 i | | | | | | | | CK.StObj.AutoAssembly.dll.1.cs
                   +12.6038601 i | | | | | | | | CK.StObj.AutoAssembly.dll
                   +12.6064040 i | | | | | | | < 
                   +12.6064995 i | | | | | | | > Copying generated files to folder: 'C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Actor.Tests\bin\Debug\netcoreapp2.0'.
                   +12.6065393 i | | | | | | | | CK.StObj.AutoAssembly.dll.0.cs
                   +12.6079093 i | | | | | | | | CK.StObj.AutoAssembly.dll.1.cs
                   +12.6093194 i | | | | | | | | CK.StObj.AutoAssembly.dll
                   +12.6106689 i | | | | | | | < 
                   +12.6107608 i | | | | | | < 
                   +12.6158181 i | | | | | | > Terminating Aspects.
                   +12.6160760 i | | | | | | | > Aspect: CK.SqlServer.Setup.SqlSetupAspect.
                   +12.6162750 i | | | | | | | < 
                   +12.6163014 i | | | | | | | > Aspect: CK.Setup.SetupableAspect.
                   +12.6229443 i | | | | | | | < 
                   +12.6230121 i | | | | | | | > Executing initial 0 deferred actions.
                   +12.6230509 i | | | | | | | <  | 1 conclusion:
                                 | | | | | | |    | Executed 0 actions.
                   +12.6230795 i | | | | | | < 
                   +12.6422650 i | | | | | | No assembly load conflicts.
                   +12.9933242 i | | | | | < 
                   +12.9933442   | | | | < 
                   +12.9934102 i | | | < 
                   +12.9953055   | | | > Updating signature files.
                   +12.9968308   | | | < 
                   +12.9968727   | | | Leaving Working Directory 'C:\Dev\CK-Database-Projects\CK-DB\Tests\CK.DB.Actor.Tests\CKSetup-WorkingDir\2018-04-13 08h39.29.2332637\' as-is.
                   +12.9968799 i | | <  | 1 conclusion:
                                 | |    | Succeed
                   +13.0385017 i | | > Closing Store.
                   +13.0784159 i | | < 
                   +13.0784462 i | < 
                   +13.0844474 i | > Loading StObj map from CK.StObj.AutoAssembly.
                   +13.1332539 i | | > Loading dynamic 'CK.StObj.AutoAssembly, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null'.
                   +13.1541883 i | | < 
                   +13.1543578 i | < 
                   +13.1543967 i < 
2~~~~                            ~~ Monitor: afca0a8a-b0c6-4fac-b15c-7f3520738da1
                   +13.2088009 E exec CK.sGroupCreate <= @ActorId=0, @GroupIdResult=null output
                                    ââââââââââââââââââââââââââââ  Exception: SqlDetailedException â ââââââââââââââââââââââââââ
                                    | Message:    exec CK.sGroupCreate <= @ActorId=0, @GroupIdResult=null output
                                    |  ââââââââââââââââââââââââââââ  [Inner Exception] â ââââââââââââââââââââââââââ
                                    |  |  ââââââââââââââââââââââââââââ  Exception: SqlException â ââââââââââââââââââââââââââ
                                    |  |  | Message:    Security.AnonymousNotAllowed
                                    |  |  | Stack:         at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                    |  |  |                at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                    |  |  |                at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
                                    |  |  |                at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
                                    |  |  |                at CK.SqlServer.SqlConnectionControllerExtension.<>c.<ExecuteNonQuery>b__2_0(SqlCommand c)
                                    |  |  |                at CK.SqlServer.SqlStandardCallContext.CK.SqlServer.ISqlCommandExecutor.ExecuteQuery[T](IActivityMonitor monitor, SqlConnection connection, SqlCommand cmd, Func`2 innerExecutor)
                                    |  |  ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                                    |  ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                                    ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                   +13.3276687 i Done.
3~~~~                            ~~ Monitor: c499bfff-7222-4e85-a571-a5872d5f8d55
                   +13.3709586 E exec CK.sGroupDestroy <= @ActorId=0, @GroupId=1418, @ForceDestroy=0
                                    ââââââââââââââââââââââââââââ  Exception: SqlDetailedException â ââââââââââââââââââââââââââ
                                    | Message:    exec CK.sGroupDestroy <= @ActorId=0, @GroupId=1418, @ForceDestroy=0
                                    |  ââââââââââââââââââââââââââââ  [Inner Exception] â ââââââââââââââââââââââââââ
                                    |  |  ââââââââââââââââââââââââââââ  Exception: SqlException â ââââââââââââââââââââââââââ
                                    |  |  | Message:    Security.AnonymousNotAllowed
                                    |  |  | Stack:         at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                    |  |  |                at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                    |  |  |                at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
                                    |  |  |                at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
                                    |  |  |                at CK.SqlServer.SqlConnectionControllerExtension.<>c.<ExecuteNonQuery>b__2_0(SqlCommand c)
                                    |  |  |                at CK.SqlServer.SqlStandardCallContext.CK.SqlServer.ISqlCommandExecutor.ExecuteQuery[T](IActivityMonitor monitor, SqlConnection connection, SqlCommand cmd, Func`2 innerExecutor)
                                    |  |  ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                                    |  ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                                    ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                   +13.4139987 i Done.
4~~~~                            ~~ Monitor: 73ca7040-10c8-4b7c-8f30-43649185f3e9
                   +13.4854889 E exec CK.sGroupDestroy <= @ActorId=1, @GroupId=1419, @ForceDestroy=0
                                    ââââââââââââââââââââââââââââ  Exception: SqlDetailedException â ââââââââââââââââââââââââââ
                                    | Message:    exec CK.sGroupDestroy <= @ActorId=1, @GroupId=1419, @ForceDestroy=0
                                    |  ââââââââââââââââââââââââââââ  [Inner Exception] â ââââââââââââââââââââââââââ
                                    |  |  ââââââââââââââââââââââââââââ  Exception: SqlException â ââââââââââââââââââââââââââ
                                    |  |  | Message:    ck:sGroupDestroy-{26}-[Group.NotEmptyGroup]
                                    |  |  | Stack:         at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                    |  |  |                at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                    |  |  |                at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
                                    |  |  |                at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
                                    |  |  |                at CK.SqlServer.SqlConnectionControllerExtension.<>c.<ExecuteNonQuery>b__2_0(SqlCommand c)
                                    |  |  |                at CK.SqlServer.SqlStandardCallContext.CK.SqlServer.ISqlCommandExecutor.ExecuteQuery[T](IActivityMonitor monitor, SqlConnection connection, SqlCommand cmd, Func`2 innerExecutor)
                                    |  |  ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                                    |  ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                                    ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                   +13.5961997 i Done.
5~~~~                            ~~ Monitor: 30882f42-54b6-4572-96e0-85676622c91f
                   +13.7469979 i Done.
6~~~~                            ~~ Monitor: aff2bdaf-5bc3-4935-9c69-258848ae2c70
                   +13.8594919 i Done.
7~~~~                            ~~ Monitor: 4b7940c5-cf3e-4519-ab43-e776c4ef9ce2
                   +13.9397522 i Done.
8~~~~                            ~~ Monitor: c9efa1df-ec1c-4968-bad6-c41e6ead19f9
                   +14.0599256 i Done.
9~~~~                            ~~ Monitor: 56078edb-8325-4aa0-a306-91a24bc0ef32
                   +14.1469149 i Done.
A~~~~                            ~~ Monitor: e4e9003f-af62-4cca-8453-f49133517ec5
                   +14.1823473 E exec CK.sGroupUserRemove <= @ActorId=1428, @GroupId=1, @UserId=1427
                                    ââââââââââââââââââââââââââââ  Exception: SqlDetailedException â ââââââââââââââââââââââââââ
                                    | Message:    exec CK.sGroupUserRemove <= @ActorId=1428, @GroupId=1, @UserId=1427
                                    |  ââââââââââââââââââââââââââââ  [Inner Exception] â ââââââââââââââââââââââââââ
                                    |  |  ââââââââââââââââââââââââââââ  Exception: SqlException â ââââââââââââââââââââââââââ
                                    |  |  | Message:    ck:sGroupUserRemove-{25}-[Security.ActorMustBeSytem]
                                    |  |  | Stack:         at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                    |  |  |                at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                    |  |  |                at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
                                    |  |  |                at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
                                    |  |  |                at CK.SqlServer.SqlConnectionControllerExtension.<>c.<ExecuteNonQuery>b__2_0(SqlCommand c)
                                    |  |  |                at CK.SqlServer.SqlStandardCallContext.CK.SqlServer.ISqlCommandExecutor.ExecuteQuery[T](IActivityMonitor monitor, SqlConnection connection, SqlCommand cmd, Func`2 innerExecutor)
                                    |  |  ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                                    |  ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                                    ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                   +14.2428196 E exec CK.sGroupUserAdd <= @ActorId=1428, @GroupId=1, @UserId=1429
                                    ââââââââââââââââââââââââââââ  Exception: SqlDetailedException â ââââââââââââââââââââââââââ
                                    | Message:    exec CK.sGroupUserAdd <= @ActorId=1428, @GroupId=1, @UserId=1429
                                    |  ââââââââââââââââââââââââââââ  [Inner Exception] â ââââââââââââââââââââââââââ
                                    |  |  ââââââââââââââââââââââââââââ  Exception: SqlException â ââââââââââââââââââââââââââ
                                    |  |  | Message:    ck:sGroupUserAdd-{28}-[Security.ActorMustBeSytem]
                                    |  |  | Stack:         at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                    |  |  |                at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                    |  |  |                at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
                                    |  |  |                at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
                                    |  |  |                at CK.SqlServer.SqlConnectionControllerExtension.<>c.<ExecuteNonQuery>b__2_0(SqlCommand c)
                                    |  |  |                at CK.SqlServer.SqlStandardCallContext.CK.SqlServer.ISqlCommandExecutor.ExecuteQuery[T](IActivityMonitor monitor, SqlConnection connection, SqlCommand cmd, Func`2 innerExecutor)
                                    |  |  ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                                    |  ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                                    ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                   +14.3065303 E exec CK.sGroupRemoveAllUsers <= @ActorId=1428, @GroupId=1
                                    ââââââââââââââââââââââââââââ  Exception: SqlDetailedException â ââââââââââââââââââââââââââ
                                    | Message:    exec CK.sGroupRemoveAllUsers <= @ActorId=1428, @GroupId=1
                                    |  ââââââââââââââââââââââââââââ  [Inner Exception] â ââââââââââââââââââââââââââ
                                    |  |  ââââââââââââââââââââââââââââ  Exception: SqlException â ââââââââââââââââââââââââââ
                                    |  |  | Message:    ck:sGroupUserRemove-{25}-[Security.ActorMustBeSytem]<-CK.sGroupRemoveAllUsers
                                    |  |  | Stack:         at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                    |  |  |                at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                    |  |  |                at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
                                    |  |  |                at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
                                    |  |  |                at CK.SqlServer.SqlConnectionControllerExtension.<>c.<ExecuteNonQuery>b__2_0(SqlCommand c)
                                    |  |  |                at CK.SqlServer.SqlStandardCallContext.CK.SqlServer.ISqlCommandExecutor.ExecuteQuery[T](IActivityMonitor monitor, SqlConnection connection, SqlCommand cmd, Func`2 innerExecutor)
                                    |  |  ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                                    |  ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                                    ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                   +14.3370064 i Done.
B~~~~                            ~~ Monitor: c5603b7b-0fbc-4637-a1cd-6d70da2290b4
                   +14.3829311 i Done.
C~~~~                            ~~ Monitor: c4d397fd-d9a7-4177-85d0-eeafb19e4b75
                   +14.4014838 E exec CK.sUserCreate <= @ActorId=0, @UserName=N'4430004d-1936-44f8-bc55-67a6d1d3b8e5', @UserIdResult=null output
                                    ââââââââââââââââââââââââââââ  Exception: SqlDetailedException â ââââââââââââââââââââââââââ
                                    | Message:    exec CK.sUserCreate <= @ActorId=0, @UserName=N'4430004d-1936-44f8-bc55-67a6d1d3b8e5', @UserIdResult=null output
                                    |  ââââââââââââââââââââââââââââ  [Inner Exception] â ââââââââââââââââââââââââââ
                                    |  |  ââââââââââââââââââââââââââââ  Exception: SqlException â ââââââââââââââââââââââââââ
                                    |  |  | Message:    Security.AnonymousNotAllowed
                                    |  |  | Stack:         at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                    |  |  |                at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
                                    |  |  |                at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
                                    |  |  |                at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
                                    |  |  |                at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
                                    |  |  |                at CK.SqlServer.SqlConnectionControllerExtension.<>c.<ExecuteNonQuery>b__2_0(SqlCommand c)
                                    |  |  |                at CK.SqlServer.SqlStandardCallContext.CK.SqlServer.ISqlCommandExecutor.ExecuteQuery[T](IActivityMonitor monitor, SqlConnection connection, SqlCommand cmd, Func`2 innerExecutor)
                                    |  |  ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                                    |  ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                                    ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
                   +14.4297241 i Done.
D~~~~                            ~~ Monitor: 3778180b-5fdb-476b-a50b-f316975bcfa2
                   +14.5081293 i Done.
E~~~~                            ~~ Monitor: bbdb7d72-8b1c-4d43-a7bd-494a0a9a32a5
                   +14.5619851 i Done.
F~~~~                            ~~ Monitor: 87a08bb0-7eaf-47f9-ba9a-a48eaba43fd2
                   +14.7026195 i Done.
